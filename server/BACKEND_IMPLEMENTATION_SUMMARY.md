# üéâ Backend Implementation Summary

**–î–∞—Ç–∞:** 31.01.2026  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. **–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (MongoDB)**

#### Order.ts
- –ü–æ–ª–Ω–∞—è –º–æ–¥–µ–ª—å –∑–∞–∫–∞–∑–∞ —Å —Ç–∏–ø–∞–º–∏ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏
- –°—Ç–∞—Ç—É—Å—ã: pending, confirmed, preparing, ready, in_delivery, completed, cancelled
- –¢–∏–ø—ã –ø–æ–ª—É—á–µ–Ω–∏—è: delivery, pickup
- –°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã: card_online, cash, card_onsite
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–º–µ—Ä–∞ –∑–∞–∫–∞–∑–∞ (ORD-XXXX)
- –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤
- –ú–µ—Ç–æ–¥—ã: `changeStatus()`

#### User.ts
- –ú–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ VK –∏ Telegram ID
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞–º–∏ –¥–æ—Å—Ç–∞–≤–∫–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–∫–∞–∑–æ–≤ (totalOrders, totalSpent)
- –ú–µ—Ç–æ–¥—ã: `updateLastLogin()`, `addAddress()`, `updateAddress()`, `deleteAddress()`, `updateOrderStats()`

#### VerificationCode.ts
- –ú–æ–¥–µ–ª—å –¥–ª—è –∫–æ–¥–æ–≤ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- TTL –∏–Ω–¥–µ–∫—Å –¥–ª—è –∞–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏—è (5 –º–∏–Ω—É—Ç)
- –ó–∞—â–∏—Ç–∞ –æ—Ç spam (–º–∞–∫—Å 5 –ø–æ–ø—ã—Ç–æ–∫)
- –ú–µ—Ç–æ–¥—ã: `isExpired()`, `isAttemptsExceeded()`, `incrementAttempts()`, `markAsUsed()`
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã: `cleanupOldCodes()`, `generateSessionId()`

---

### 2. **–£—Ç–∏–ª–∏—Ç—ã**

#### jwt.ts
- `generateUserToken()` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è JWT –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `generateAdminToken()` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è JWT –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
- `verifyToken()` - –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤
- `decodeToken()` - –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

#### codeGenerator.ts
- `generateVerificationCode()` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è 6-–∑–Ω–∞—á–Ω–æ–≥–æ –∫–æ–¥–∞
- `generateSessionId()` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID —Å–µ—Å—Å–∏–∏
- `hashCode()` - —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ SHA256
- `verifyCode()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ —Å —Ö–µ—à–µ–º

#### validators.ts
- `isValidPhone()` - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- `isValidEmail()` - –≤–∞–ª–∏–¥–∞—Ü–∏—è email
- `isValidVerificationCode()` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–¥–∞
- `formatPhone()` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- `sanitizeString()` - –æ—á–∏—Å—Ç–∫–∞ –æ—Ç HTML

---

### 3. **Middleware**

#### profileAuth.ts
- `authenticateUser` - JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `optionalAuthenticateUser` - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- –î–æ–±–∞–≤–ª—è–µ—Ç `req.user` –≤ Request

---

### 4. **–°–µ—Ä–≤–∏—Å—ã**

#### verificationService.ts
- `sendCodeViaVK()` - –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞ —á–µ—Ä–µ–∑ VK (–∑–∞–≥–ª—É—à–∫–∞)
- `sendCodeViaTelegram()` - –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞ —á–µ—Ä–µ–∑ Telegram (–∑–∞–≥–ª—É—à–∫–∞)
- `sendCodeViaSMS()` - –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞ —á–µ—Ä–µ–∑ SMS (–∑–∞–≥–ª—É—à–∫–∞)
- `sendVerificationCode()` - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞

#### orderService.ts
- `determineInitialOrderStatus()` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞
- `calculateOrderPricing()` - —Ä–∞—Å—á—ë—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Å —É—á—ë—Ç–æ–º —Å–∫–∏–¥–æ–∫
- `checkPromos()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–º–µ–Ω–∏–º—ã—Ö –∞–∫—Ü–∏–π
- `generateOperatorNotification()` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞

---

### 5. **API Routes**

#### /api/profile/auth (profileAuth.ts)
- `POST /send-code` - –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
  - Rate limiting: 5 –ø–æ–ø—ã—Ç–æ–∫ –∑–∞ 15 –º–∏–Ω—É—Ç
  - Anti-spam: –º–∞–∫—Å 3 –∫–æ–¥–∞ –∑–∞ 10 –º–∏–Ω—É—Ç
  - –ú–µ—Ç–æ–¥—ã: VK, Telegram, SMS
  
- `POST /verify-code` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
  - –ú–∞–∫—Å 5 –ø–æ–ø—ã—Ç–æ–∫ –≤–≤–æ–¥–∞
  - TTL 5 –º–∏–Ω—É—Ç
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JWT —Ç–æ–∫–µ–Ω

#### /api/profile (profile.ts)
–í—Å–µ —Ä–æ—É—Ç—ã —Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (`authenticateUser`)

- `GET /me` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
- `PATCH /me` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è (–∏–º—è, email)
- `GET /addresses` - —Å–ø–∏—Å–æ–∫ –∞–¥—Ä–µ—Å–æ–≤
- `POST /addresses` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞
- `PATCH /addresses/:id` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞
- `DELETE /addresses/:id` - —É–¥–∞–ª–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞
- `GET /orders` - –∑–∞–∫–∞–∑—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π)
- `GET /orders/:id` - –¥–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞

#### /api/orders (orders.ts)

**–î–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤:**
- `POST /` - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞
  - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
  - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –∏ –Ω–∞–ª–∏—á–∏—è
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç —Å–∫–∏–¥–æ–∫
  - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ (pending/confirmed)
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø—Ä–æ–¥–∞–∂
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–î–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ (—Ç—Ä–µ–±—É–µ—Ç—Å—è `authenticate`):**
- `GET /` - —Å–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
  - –§–∏–ª—å—Ç—Ä—ã: status, fulfillmentType, date, search
  - –ü–∞–≥–∏–Ω–∞—Ü–∏—è
  
- `GET /:id` - –¥–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞
- `PATCH /:id/status` - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
  - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏—é
  - –ü—Ä–∏–≤—è–∑–∫–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
  
- `DELETE /:id` - —É–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–º–µ–Ω—ë–Ω–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞

---

## üìä –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
```
1. –ö–ª–∏–µ–Ω—Ç ‚Üí POST /api/profile/auth/send-code {phone, method}
2. Backend ‚Üí –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–¥ ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —á–µ—Ä–µ–∑ VK/Telegram/SMS
3. Backend ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç sessionId
4. –ö–ª–∏–µ–Ω—Ç ‚Üí POST /api/profile/auth/verify-code {sessionId, code}
5. Backend ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–¥ ‚Üí —Å–æ–∑–¥–∞—ë—Ç/–Ω–∞—Ö–æ–¥–∏—Ç User ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JWT
```

### –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞:
```
1. –ö–ª–∏–µ–Ω—Ç ‚Üí POST /api/orders {customer, items, fulfillment, payment, ...}
2. Backend ‚Üí –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Ç–æ–≤–∞—Ä—ã ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ
3. Backend ‚Üí —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Ü–µ–Ω—ã ‚Üí –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Å–∫–∏–¥–∫–∏/–∞–∫—Ü–∏–∏
4. Backend ‚Üí –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å:
   - –î–æ—Å—Ç–∞–≤–∫–∞ ‚Üí confirmed
   - –°–∞–º–æ–≤—ã–≤–æ–∑ + –∫–∞—Ä—Ç–∞ –æ–Ω–ª–∞–π–Ω ‚Üí confirmed
   - –°–∞–º–æ–≤—ã–≤–æ–∑ + –Ω–∞–ª–∏—á–Ω—ã–µ ‚Üí pending (—Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è)
5. Backend ‚Üí —Å–æ–∑–¥–∞—ë—Ç –∑–∞–∫–∞–∑ ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
6. Backend ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç {orderNumber, status, pricing}
```

### –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º:
```
1. –û–ø–µ—Ä–∞—Ç–æ—Ä ‚Üí GET /api/orders?status=pending
2. –û–ø–µ—Ä–∞—Ç–æ—Ä ‚Üí –≤–∏–¥–∏—Ç –∑–∞–∫–∞–∑—ã, —Ç—Ä–µ–±—É—é—â–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
3. –û–ø–µ—Ä–∞—Ç–æ—Ä ‚Üí –∑–≤–æ–Ω–∏—Ç –∫–ª–∏–µ–Ω—Ç—É ‚Üí –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç
4. –û–ø–µ—Ä–∞—Ç–æ—Ä ‚Üí PATCH /api/orders/:id/status {status: 'confirmed'}
5. Backend ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å ‚Üí –¥–æ–±–∞–≤–ª—è–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –∏—Å—Ç–æ—Ä–∏—é
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚úÖ Rate limiting –Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é (5 –ø–æ–ø—ã—Ç–æ–∫ –∑–∞ 15 –º–∏–Ω)  
‚úÖ Anti-spam –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É –∫–æ–¥–æ–≤ (3 –∫–æ–¥–∞ –∑–∞ 10 –º–∏–Ω)  
‚úÖ –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–æ–≤ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ (SHA256)  
‚úÖ JWT —Ç–æ–∫–µ–Ω—ã —Å –∏—Å—Ç–µ—á–µ–Ω–∏–µ–º (7 –¥–Ω–µ–π)  
‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö  
‚úÖ –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–∫ (—É–¥–∞–ª–µ–Ω–∏–µ HTML)  
‚úÖ TTL –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –∞–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏—è —Å—Ç–∞—Ä—ã—Ö –∫–æ–¥–æ–≤  

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
server/src/
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ Order.ts         ‚úÖ –ù–æ–≤—ã–π
‚îÇ   ‚îú‚îÄ‚îÄ User.ts          ‚úÖ –ù–æ–≤—ã–π
‚îÇ   ‚îî‚îÄ‚îÄ VerificationCode.ts ‚úÖ –ù–æ–≤—ã–π
‚îÇ
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ orders.ts        ‚úÖ –ù–æ–≤—ã–π
‚îÇ   ‚îú‚îÄ‚îÄ profile.ts       ‚úÖ –ù–æ–≤—ã–π
‚îÇ   ‚îî‚îÄ‚îÄ profileAuth.ts   ‚úÖ –ù–æ–≤—ã–π
‚îÇ
‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îî‚îÄ‚îÄ profileAuth.ts   ‚úÖ –ù–æ–≤—ã–π
‚îÇ
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ orderService.ts       ‚úÖ –ù–æ–≤—ã–π
‚îÇ   ‚îî‚îÄ‚îÄ verificationService.ts ‚úÖ –ù–æ–≤—ã–π
‚îÇ
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ jwt.ts           ‚úÖ –ù–æ–≤—ã–π
‚îÇ   ‚îú‚îÄ‚îÄ codeGenerator.ts ‚úÖ –ù–æ–≤—ã–π
‚îÇ   ‚îî‚îÄ‚îÄ validators.ts    ‚úÖ –ù–æ–≤—ã–π
‚îÇ
‚îî‚îÄ‚îÄ index.ts             ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω (–¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Ä–æ—É—Ç—ã)
```

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ:
1. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å VK Bot (–æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–æ–≤)
2. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Bot (–æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–æ–≤)
3. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å environment variables
4. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ endpoints

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ:
1. SMS –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (SMSC.ru, SMS.ru)
2. Webhook –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
3. Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
4. WebSockets –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
5. –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å Postman/Insomnia:

**1. –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞:**
```bash
POST http://localhost:3001/api/profile/auth/send-code
{
  "phone": "+79991234567",
  "method": "telegram"
}
```

**2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞:**
```bash
POST http://localhost:3001/api/profile/auth/verify-code
{
  "sessionId": "1738361234567-abc123",
  "code": "123456"
}
```

**3. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞:**
```bash
POST http://localhost:3001/api/orders
{
  "customer": {
    "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "phone": "+79991234567"
  },
  "items": [
    {
      "productId": "65abc123...",
      "quantity": 2
    }
  ],
  "fulfillment": {
    "type": "delivery",
    "address": "—É–ª. –ü—É—à–∫–∏–Ω–∞, 10, –∫–≤. 5",
    "deliveryCost": 150
  },
  "payment": {
    "method": "card_online"
  },
  "cutleryCount": 2,
  "comment": "–ü–æ–∑–≤–æ–Ω–∏—Ç–µ –∑–∞ 10 –º–∏–Ω—É—Ç"
}
```

---

## üìù Environment Variables

–î–æ–±–∞–≤–∏—Ç—å –≤ `.env`:
```bash
# JWT
JWT_SECRET=your-secret-key-here
JWT_EXPIRES_IN=7d

# –ê–¥—Ä–µ—Å —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ –¥–ª—è —Å–∞–º–æ–≤—ã–≤–æ–∑–∞
RESTAURANT_PICKUP_ADDRESS="—É–ª. –ü—É—à–∫–∏–Ω–∞, 1, –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É"
```

---

## ‚úÖ –°—Ç–∞—Ç—É—Å: –ì–æ—Ç–æ–≤–æ –∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É!

Backend –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º. –í—Å–µ API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç, –º–æ–¥–µ–ª–∏ —Å–æ–∑–¥–∞–Ω—ã, –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞.

**–í—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** ~6 —á–∞—Å–æ–≤  
**–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤:** 12 –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤  
**–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~2000+ —Å—Ç—Ä–æ–∫

üéâ **–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞!**
